<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Azureexplorer Tests</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TODO What is the right way to tell whatever is compiling this to stop placing base at '/' -->
    <base href="../" />
    {{content-for 'head'}}
    {{content-for 'head'}}
    {{content-for 'test-head'}}
    
    <link rel="stylesheet" href="assets/vendor.css">
    <link rel="stylesheet" href="assets/azureexplorer.css">
    <link rel="stylesheet" href="assets/test-support.css">

    {{content-for 'head-footer'}}
    {{content-for 'test-head-footer'}}
  </head>
  <body>

    {{content-for 'body'}}
    {{content-for 'test-body'}}
    <script src="assets/vendor.js"></script>
    <script src="assets/test-support.js"></script>
    <script src="assets/azureexplorer.js"></script>
    <!-- TODO Place these in its own file. -->
    <script type="text/javascript">
        var totalTestCount = 0;
        QUnit.log(function( details ) {
          console.log(details);
          console.log(details.module + ": " + details.name);
          if(details.result !== true){
            console.log("FAIL");
            console.log("   ---");
            console.log("    actual: -");
            console.log("      " + details.actual);
            console.log("    expected: -");
            console.log("      " + details.expected);
            console.log("    message: -");
            console.log("      " + details.message);
            console.log("    Log: >");
            if(details.log){
              console.log("      " + details.log);
            }
          }
        });

        QUnit.done(function( details ){
          console.log("TEST SUMMARY:");
          console.log("PASSED: " + details.passed);
          console.log("FAILED: " + details.failed);
          console.log("TOTAL: " + details.total);
          console.log("Runtime: " + details.runtime + "ms");

          var gui = require('nw.gui');
          if(details.failed === 0){
            // quit with no error
            gui.App.quit();
          }
          else{
            // fail out
            gui.App.crashRenderer();
          }
        });
    </script>
    <script src="testem.js"></script>
    <script src="assets/test-loader.js"></script>

    {{content-for 'body-footer'}}
    {{content-for 'test-body-footer'}}
  </body>
</html>
